{"version":3,"file":"index.js","sources":["../src/js/work-together.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst contactEmail = document.querySelector(\".work-together-input-email\");\nconst contactComment = document.querySelector(\".work-together-comments\");\nconst contactForm = document.querySelector(\".work-together-subscribe\");\nconst label = document.querySelector(\".label-input-email\");\nconst modalBackdrop = document.querySelector(\".work-together-backdrop\");\nconst modalBackdropBg = document.querySelector(\".modal-backdrop-bg\");\nconst modalTitle = document.querySelector(\".work-together-modal-head-text\");\nconst modalText = document.querySelector(\".work-together-invitation\");\nconst modalBtn = document.querySelector(\".work-together-modal-close-x-btn\");\nconst body = document.body;\n\ncontactForm.addEventListener(\"submit\", getContactInfo);\n\nfunction getContactInfo(event) {\n    event.preventDefault();\n\n    const userEmail = event.target.elements.email.value.trim();\n    const userComment = event.target.elements.comments.value.trim();\n    \n    const url = 'https://portfolio-js.b.goit.study/api/requests';\n    const data = {\n        email: `${userEmail}`,\n        comment: `${userComment}`\n    };\n\n    return fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    })\n        .then(response => {\n            if (!response.ok) {\n                return iziToast.error({\n                    title: 'Error',\n                    message: `Sorry, try again!`,\n                    messageColor: 'white',\n                    messageSize: '16',\n                    backgroundColor: 'red',\n                    theme: 'dark',\n                    position: 'bottomRight',\n                });\n            }\n            return response.json();\n        })\n        .then(data => {\n            modalBackdrop.classList.remove(\"visually-hidden\");\n            modalBackdrop.style.display = 'block';\n            modalBackdropBg.classList.remove(\"visually-hidden\");\n            body.classList.add('modal-open');\n            modalTitle.textContent = data.title;\n            modalText.textContent = data.message;\n            contactForm.reset();\n            label.textContent = \"\";\n            contactEmail.style.borderBottomColor = 'rgba(250, 250, 250, 0.20)';\n        })\n        .catch(error => {\n            return iziToast.error({\n                title: 'Error',\n                message: `Sorry,  network is fall, check your modem and try again!`,\n                messageColor: 'white',\n                messageSize: '16',\n                backgroundColor: 'red',\n                theme: 'dark',\n                position: 'bottomRight',\n            });\n        });\n}\n\ncontactEmail.addEventListener(\"blur\", checkEmail);\n\nfunction checkEmail(event) {\n    const userEmail = event.target.value.trim();\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (userEmail === \"\") {\n        return;\n    }\n    if (emailRegex.test(userEmail)) {\n        label.textContent = \"Succes!\";\n        contactEmail.style.borderBottomColor = '#3CBC81';\n        label.style.color = '#3CBC81';\n    } else {\n        label.textContent = \"Invalid email, try again\";\n        contactEmail.style.borderBottomColor = '#E74A3B';\n        label.style.color = '#E74A3B';\n    }\n}\n\ncontactComment.addEventListener(\"input\", checkCommentLength);\n\nfunction checkCommentLength(event) {\n    const maxLength = parseInt(this.getAttribute(\"maxlength\"));\n    const userComment = event.target.value.trim();\n    if (userComment > maxLength) {\n        userComment = userComment.slice(0, maxLength);\n    }\n    contactComment.style.whiteSpace = 'nowrap';\n    contactComment.style.overflow = 'hidden';\n    contactComment.style.textOverflow = 'ellipsis';\n}\n\nmodalBtn.addEventListener(\"click\", closeModal);\nmodalBackdropBg.addEventListener(\"click\", closeModal);\ndocument.addEventListener(\"keydown\", event => {\n    if (event.key === 'Escape' || event.key === 'Esc' || event.code === 27) {\n        closeModal();\n    }\n});\n\nfunction closeModal() {\n    modalBackdrop.classList.add(\"visually-hidden\");\n    modalBackdrop.style.display = 'none';\n    modalBackdropBg.classList.add(\"visually-hidden\");\n    body.classList.remove('modal-open');\n}"],"names":["contactEmail","contactComment","contactForm","label","modalBackdrop","modalBackdropBg","modalTitle","modalText","modalBtn","body","getContactInfo","event","userEmail","userComment","url","data","response","iziToast","error","checkEmail","emailRegex","checkCommentLength","maxLength","closeModal"],"mappings":"svBAGA,MAAMA,EAAe,SAAS,cAAc,4BAA4B,EAClEC,EAAiB,SAAS,cAAc,yBAAyB,EACjEC,EAAc,SAAS,cAAc,0BAA0B,EAC/DC,EAAQ,SAAS,cAAc,oBAAoB,EACnDC,EAAgB,SAAS,cAAc,yBAAyB,EAChEC,EAAkB,SAAS,cAAc,oBAAoB,EAC7DC,EAAa,SAAS,cAAc,gCAAgC,EACpEC,EAAY,SAAS,cAAc,2BAA2B,EAC9DC,EAAW,SAAS,cAAc,kCAAkC,EACpEC,EAAO,SAAS,KAEtBP,EAAY,iBAAiB,SAAUQ,CAAc,EAErD,SAASA,EAAeC,EAAO,CAC3BA,EAAM,eAAgB,EAEtB,MAAMC,EAAYD,EAAM,OAAO,SAAS,MAAM,MAAM,KAAM,EACpDE,EAAcF,EAAM,OAAO,SAAS,SAAS,MAAM,KAAM,EAEzDG,EAAM,iDACNC,EAAO,CACT,MAAO,GAAGH,CAAS,GACnB,QAAS,GAAGC,CAAW,EAC1B,EAED,OAAO,MAAMC,EAAK,CACd,OAAQ,OACR,QAAS,CACL,eAAgB,kBACnB,EACD,KAAM,KAAK,UAAUC,CAAI,CAC5B,CAAA,EACI,KAAKC,GACGA,EAAS,GAWPA,EAAS,KAAM,EAVXC,EAAS,MAAM,CAClB,MAAO,QACP,QAAS,oBACT,aAAc,QACd,YAAa,KACb,gBAAiB,MACjB,MAAO,OACP,SAAU,aAC9B,CAAiB,CAGR,EACA,KAAKF,GAAQ,CACVX,EAAc,UAAU,OAAO,iBAAiB,EAChDA,EAAc,MAAM,QAAU,QAC9BC,EAAgB,UAAU,OAAO,iBAAiB,EAClDI,EAAK,UAAU,IAAI,YAAY,EAC/BH,EAAW,YAAcS,EAAK,MAC9BR,EAAU,YAAcQ,EAAK,QAC7Bb,EAAY,MAAO,EACnBC,EAAM,YAAc,GACpBH,EAAa,MAAM,kBAAoB,2BAC1C,CAAA,EACA,MAAMkB,GACID,EAAS,MAAM,CAClB,MAAO,QACP,QAAS,2DACT,aAAc,QACd,YAAa,KACb,gBAAiB,MACjB,MAAO,OACP,SAAU,aAC1B,CAAa,CACJ,CACT,CAEAjB,EAAa,iBAAiB,OAAQmB,CAAU,EAEhD,SAASA,EAAWR,EAAO,CACvB,MAAMC,EAAYD,EAAM,OAAO,MAAM,KAAM,EACrCS,EAAa,6BACfR,IAAc,KAGdQ,EAAW,KAAKR,CAAS,GACzBT,EAAM,YAAc,UACpBH,EAAa,MAAM,kBAAoB,UACvCG,EAAM,MAAM,MAAQ,YAEpBA,EAAM,YAAc,2BACpBH,EAAa,MAAM,kBAAoB,UACvCG,EAAM,MAAM,MAAQ,WAE5B,CAEAF,EAAe,iBAAiB,QAASoB,CAAkB,EAE3D,SAASA,EAAmBV,EAAO,CAC/B,MAAMW,EAAY,SAAS,KAAK,aAAa,WAAW,CAAC,EACnDT,EAAcF,EAAM,OAAO,MAAM,KAAM,EACzCE,EAAcS,IACdT,EAAcA,EAAY,MAAM,EAAGS,CAAS,GAEhDrB,EAAe,MAAM,WAAa,SAClCA,EAAe,MAAM,SAAW,SAChCA,EAAe,MAAM,aAAe,UACxC,CAEAO,EAAS,iBAAiB,QAASe,CAAU,EAC7ClB,EAAgB,iBAAiB,QAASkB,CAAU,EACpD,SAAS,iBAAiB,UAAWZ,GAAS,EACtCA,EAAM,MAAQ,UAAYA,EAAM,MAAQ,OAASA,EAAM,OAAS,KAChEY,EAAY,CAEpB,CAAC,EAED,SAASA,GAAa,CAClBnB,EAAc,UAAU,IAAI,iBAAiB,EAC7CA,EAAc,MAAM,QAAU,OAC9BC,EAAgB,UAAU,IAAI,iBAAiB,EAC/CI,EAAK,UAAU,OAAO,YAAY,CACtC"}